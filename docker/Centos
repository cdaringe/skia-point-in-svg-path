FROM centos:latest

RUN yum update -y && yum group install "Development Tools" -y && yum install -y centos-release-scl devtoolset-8-gcc* \
  curl llvm clang cmake make git rsync libfontconfig-dev libgl1-mesa-dev libglu1-mesa-dev

RUN git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git; \
  git clone https://skia.googlesource.com/skia.git; \
  export PATH="${PWD}/depot_tools:${PATH}"; \
  cd skia; \
  git checkout 29d5dec9a0783a033b921dc483fb98d565d684f6; \
  python tools/git-sync-deps

COPY build-skia.sh build-skia.sh
# RUN chmod 755 ./build-skia.sh && ./build-skia.sh
